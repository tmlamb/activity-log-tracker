#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo 'Checking all the things before committing'

# Check Prettier for style issues
npm run check-format ||
(
    echo 'Prettier Check Failed. Run `npm run format` to fix style issues and try commit again.';
    false;
)

# Check ESLint for code smells
npm run check-lint ||
(
    echo 'ESLint Check Failed. Make the changes listed above and try commit again.'
    false; 
)

# Check tsconfig for type check errors
npm run check-types ||
(
    echo 'Type Check Failed. Make the changes listed above and try commit again.'
    false;
)

# Check if expo app starts
# npm run start ||
# (
#     echo 'App Start Failed. Make the changes listed above and try commit again.'
#     false;
# )

# Everything checks out, so commit
echo 'Everything checks out, trying to commit now.'

